<h2 mat-dialog-title>{{ titulo }}</h2>

<mat-dialog-content [formGroup]="form" class="dialog-content">
  <mat-form-field appearance="outline" class="w-full mb-3">
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="nombre" placeholder="Ej. Sede Centro" />
    <mat-error *ngIf="form.get('nombre')?.hasError('required')">
      El nombre es obligatorio
    </mat-error>
    <mat-error *ngIf="form.get('nombre')?.hasError('minlength')">
      El nombre debe tener al menos 3 caracteres
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" class="w-full mb-3">
    <mat-label>Dirección</mat-label>
    <input
      matInput
      formControlName="direccion"
      placeholder="Ej. Calle 10 #5-23"
    />
    <mat-error *ngIf="form.get('direccion')?.hasError('required')">
      La dirección es obligatoria
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" class="w-full mb-3">
    <mat-label>Teléfono</mat-label>
    <input matInput formControlName="telefono" placeholder="Ej. 3104567890" />
    <mat-error *ngIf="form.get('telefono')?.hasError('required')">
      El teléfono es obligatorio
    </mat-error>
    <mat-error *ngIf="form.get('telefono')?.hasError('pattern')">
      Ingrese un número válido (7 a 10 dígitos)
    </mat-error>
  </mat-form-field>

  <mat-slide-toggle formControlName="estado">Activa</mat-slide-toggle>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="cancelar()" [disabled]="cargando">
    Cancelar
  </button>
  <button
    mat-flat-button
    color="primary"
    (click)="guardar()"
    [disabled]="form.invalid || cargando"
  >
    {{ data ? 'Actualizar' : 'Crear' }}
  </button>
</mat-dialog-actions>
